<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Connect to Drill (dplyr) — src_drill • sergeant</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Connect to Drill (dplyr) — src_drill" />

<meta property="og:description" content="Use src_drill() to connect to a Drill cluster and tbl() to connect to a
fully-qualified &quot;table reference&quot;. The vast majority of Drill SQL functions have
also been made available to the dplyr interface. If you have custom Drill
SQL functions that need to be implemented please file an issue on GitHub." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sergeant</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hrbrmstr/sergeant">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Connect to Drill (dplyr)</h1>
    <small class="dont-index">Source: <a href='https://github.com/hrbrmstr/sergeant/blob/master/R/dplyr.r'><code>R/dplyr.r</code></a></small>
    <div class="hidden name"><code>src_drill.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Use <code>src_drill()</code> to connect to a Drill cluster and <code><a href='sergeant-exports.html'>tbl()</a></code> to connect to a
fully-qualified "table reference". The vast majority of Drill SQL functions have
also been made available to the <code>dplyr</code> interface. If you have custom Drill
SQL functions that need to be implemented please file an issue on GitHub.</p>
    
    </div>

    <pre class="usage"><span class='fu'>src_drill</span>(<span class='kw'>host</span> <span class='kw'>=</span> <span class='fu'>Sys.getenv</span>(<span class='st'>"DRILL_HOST"</span>, <span class='st'>"localhost"</span>),
  <span class='kw'>port</span> <span class='kw'>=</span> <span class='fu'>as.integer</span>(<span class='fu'>Sys.getenv</span>(<span class='st'>"DRILL_PORT"</span>, <span class='fl'>8047L</span>)), <span class='kw'>ssl</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>username</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>password</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S3 method for src_drill</span>
<span class='fu'><a href='sergeant-exports.html'>tbl</a></span>(<span class='no'>src</span>, <span class='no'>from</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>host</th>
      <td><p>Drill host (will pick up the value from <code>DRILL_HOST</code> env var)</p></td>
    </tr>
    <tr>
      <th>port</th>
      <td><p>Drill port (will pick up the value from <code>DRILL_PORT</code> env var)</p></td>
    </tr>
    <tr>
      <th>ssl</th>
      <td><p>use ssl?</p></td>
    </tr>
    <tr>
      <th>username, password</th>
      <td><p>if not <code>NULL</code> the credentials for the Drill service.</p></td>
    </tr>
    <tr>
      <th>src</th>
      <td><p>A Drill "src" created with <code>src_drill()</code></p></td>
    </tr>
    <tr>
      <th>from</th>
      <td><p>A Drill view or table specification</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Extra parameters</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This is a DBI wrapper around the Drill REST API.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Drill REST `dplyr` API: <code><a href='drill_custom_functions.html'>drill_custom_functions</a></code>,
  <code><a href='src_tbls.html'>src_tbls.src_drill</a></code></p>
<p>Other Drill REST `dplyr` API: <code><a href='drill_custom_functions.html'>drill_custom_functions</a></code>,
  <code><a href='src_tbls.html'>src_tbls.src_drill</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>try</span>({
<span class='no'>db</span> <span class='kw'>&lt;-</span> <span class='fu'>src_drill</span>(<span class='st'>"localhost"</span>, <span class='fl'>8047L</span>)

<span class='fu'>print</span>(<span class='no'>db</span>)
<span class='co'>## src:  DrillConnection</span>
<span class='co'>## tbls: INFORMATION_SCHEMA, cp.default, dfs.default, dfs.root, dfs.tmp, sys</span>

<span class='no'>emp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sergeant-exports.html'>tbl</a></span>(<span class='no'>db</span>, <span class='st'>"cp.`employee.json`"</span>)

<span class='fu'>count</span>(<span class='no'>emp</span>, <span class='no'>gender</span>, <span class='no'>marital_status</span>)
<span class='co'>## # Source:   lazy query [?? x 3]</span>
<span class='co'>## # Database: DrillConnection</span>
<span class='co'>## # Groups:   gender</span>
<span class='co'>##   marital_status gender     n</span>
<span class='co'>##            &lt;chr&gt;  &lt;chr&gt; &lt;int&gt;</span>
<span class='co'>## 1              S      F   297</span>
<span class='co'>## 2              M      M   278</span>
<span class='co'>## 3              S      M   276</span>

<span class='co'># Drill-specific SQL functions are also available</span>
<span class='fu'>select</span>(<span class='no'>emp</span>, <span class='no'>full_name</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>mutate</span>(        <span class='kw'>loc</span> <span class='kw'>=</span> <span class='fu'>strpos</span>(<span class='no'>full_name</span>, <span class='st'>"a"</span>),
         <span class='kw'>first_three</span> <span class='kw'>=</span> <span class='fu'>substr</span>(<span class='no'>full_name</span>, <span class='fl'>1L</span>, <span class='fl'>3L</span>),
                 <span class='kw'>len</span> <span class='kw'>=</span> <span class='fu'>length</span>(<span class='no'>full_name</span>),
                  <span class='kw'>rx</span> <span class='kw'>=</span> <span class='fu'>regexp_replace</span>(<span class='no'>full_name</span>, <span class='st'>"[aeiouAEIOU]"</span>, <span class='st'>"*"</span>),
                 <span class='kw'>rnd</span> <span class='kw'>=</span> <span class='fu'>rand</span>(),
                 <span class='kw'>pos</span> <span class='kw'>=</span> <span class='fu'>position</span>(<span class='st'>"en"</span>, <span class='no'>full_name</span>),
                 <span class='kw'>rpd</span> <span class='kw'>=</span> <span class='fu'>rpad</span>(<span class='no'>full_name</span>, <span class='fl'>20L</span>),
                <span class='kw'>rpdw</span> <span class='kw'>=</span> <span class='fu'>rpad_with</span>(<span class='no'>full_name</span>, <span class='fl'>20L</span>, <span class='st'>"*"</span>))
<span class='co'>## # Source:   lazy query [?? x 9]</span>
<span class='co'>## # Database: DrillConnection</span>
<span class='co'>##      loc         full_name   len                 rpdw   pos                rx</span>
<span class='co'>##    &lt;int&gt;             &lt;chr&gt; &lt;int&gt;                &lt;chr&gt; &lt;int&gt;             &lt;chr&gt;</span>
<span class='co'>##  1     0      Sheri Nowmer    12 Sheri Nowmer********     0      Sh*r* N*wm*r</span>
<span class='co'>##  2     0   Derrick Whelply    15 Derrick Whelply*****     0   D*rr*ck Wh*lply</span>
<span class='co'>##  3     5    Michael Spence    14 Michael Spence******    11    M*ch**l Sp*nc*</span>
<span class='co'>##  4     2    Maya Gutierrez    14 Maya Gutierrez******     0    M*y* G*t**rr*z</span>
<span class='co'>##  5     7   Roberta Damstra    15 Roberta Damstra*****     0   R*b*rt* D*mstr*</span>
<span class='co'>##  6     7  Rebecca Kanagaki    16 Rebecca Kanagaki****     0  R*b*cc* K*n*g*k*</span>
<span class='co'>##  7     0       Kim Brunner    11 Kim Brunner*********     0       K*m Br*nn*r</span>
<span class='co'>##  8     6   Brenda Blumberg    15 Brenda Blumberg*****     3   Br*nd* Bl*mb*rg</span>
<span class='co'>##  9     2      Darren Stanz    12 Darren Stanz********     5      D*rr*n St*nz</span>
<span class='co'>## 10     4 Jonathan Murraiin    17 Jonathan Murraiin***     0 J*n*th*n M*rr***n</span>
<span class='co'>## # ... with more rows, and 3 more variables: rpd &lt;chr&gt;, rnd &lt;dbl&gt;, first_three &lt;chr&gt;</span>
}, <span class='kw'>silent</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; src:  DrillConnection
#&gt; tbls: cp.default, dfs.d, dfs.default, dfs.root, dfs.tmp, INFORMATION_SCHEMA,
#&gt;   sys</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Bob Rudis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

